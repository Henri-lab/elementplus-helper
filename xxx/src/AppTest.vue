<template>
    <div class="test-bar" v-if="isTestBar">
        <el-button class="trigger" @click="trigger">test-barğŸŒ</el-button>
        <div class="btns" v-if="isTestBtns">
            <router-link class="item" to="/testComponents"><el-button>ç»„ä»¶æµ‹è¯•</el-button></router-link>
            <router-link class="item" to="/layout/display0/@targetSystem"><el-button>ç›®æ ‡ä½“ç³»å¸ƒå±€</el-button></router-link>
            <router-link class="item" to="/layout/display0/targetSystem"><el-button>ç›®æ ‡ä½“ç³»å†…å®¹</el-button></router-link>
            <router-link class="item"
                to="/layout/display1/@targetValueAnalyse"><el-button>ç›®æ ‡ä»·å€¼åˆ†æå¸ƒå±€</el-button></router-link>
            <router-link class="item"
                to="/layout/display1/targetValueAnalyse"><el-button>ç›®æ ‡ä»·å€¼åˆ†æå†…å®¹</el-button></router-link>
        </div>
    </div>
</template>

<script setup>
import { ref, onMounted, onBeforeUnmount } from 'vue';

const isTestBar = ref(false);
const isTestBtns = ref(false);
const handleKeydown = (event) => {
    if (event.key === 'v' || event.key === 'V') {
        // ç”¨æˆ·æŒ‰ä¸‹äº† "v" é”®ï¼ˆåŒ…æ‹¬å°å†™å’Œå¤§å†™ï¼‰
        console.log('Pressed "v" key');
        // åœ¨è¿™é‡Œå¯ä»¥æ·»åŠ è¦æ‰§è¡Œçš„é€»è¾‘
        isTestBar.value = !isTestBar.value;
    }
};

// ç»‘å®šäº‹ä»¶
onMounted(() => {
    window.addEventListener('keydown', handleKeydown);
});

// è§£ç»‘äº‹ä»¶ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼
onBeforeUnmount(() => {
    window.removeEventListener('keydown', handleKeydown);
});
const trigger = () => {
    isTestBtns.value = !isTestBtns.value;
}
</script>

<style lang="scss" scoped>
.test-bar {
    width: 100%;
    background-color: rgb(154, 170, 152);
    position: fixed;
    bottom: 0;
    left: 0;
    z-index: 9999;
    border: 1px solid red;

    .btns {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        /* è‡ªåŠ¨å¡«å……åˆ—ï¼Œæœ€å°200pxï¼Œæœ€å¤§å¡«æ»¡ */
        gap: 10px;

        .item {
            padding: 10px;
            background-color: #e0e0e0;
            text-align: center;
        }
    }

}
</style>